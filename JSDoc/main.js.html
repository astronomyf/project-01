<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: main.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: main.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @file main.js
 * @author Francesco Violante, Ivan Meotto, Gaetano Cimino, Simone Resina
 * 
 * Main file project.
 * 
 * Detailed description...
 */

function startProgram() {
    // global variables for the run function
    var duration = (Math.floor(Math.random() * (configSettings.maxSeconds - configSettings.minSeconds + 1)) + configSettings.minSeconds) * 1000; // random duration of seconds 
    var actualDate = configSettings.startDate();
    var weekCounter = 0; // number of weeks
    var weekIntervalId; // id of the setIinterval
    var weeklyList = []; // array of products

    function run() {
        var header = "Week of " + utility.formatDate(actualDate);
        console.log("%c" + header, "color:blue; background-color:floralWhite; padding:10px 50px");
        
        // generate new products to insert in the list
        for(var i = 0; i &lt; configSettings.numberOfNewProducts; i++) {
            var product = generator.generateProduct(actualDate, weeklyList);
            weeklyList.push(product);
        }
        
        // print the products
        output.formattedOutput(weeklyList, configSettings.filler);
        
        console.log("%c Filtered", "color:blue; background-color:floralWhite; padding:10px 50px");
        
        // filter products
        for(var i = 0; i &lt; weeklyList.length; i++) {
            weeklyList = weeklyList.filter(utility.filterProducts);
        }
        
        // print the filtered products
        output.formattedOutput(weeklyList, configSettings.filler);
        
        // update checks and status of the products
        utility.updateStatus(weeklyList, actualDate, configSettings.weeksBeforeOld);
        
        // update the current date to a new week
        actualDate = utility.addDaysToDate(actualDate, "+", configSettings.daysOfWeek);
        
        // check if the program has reached the maximum number of weekly runs
        if(weekCounter >= configSettings.numberOfWeeks) {
            clearInterval(weekIntervalId);
        }
        weekCounter++;
    }

    // print and update the list each week after a duration
    weekIntervalId = setInterval(run, duration);

}

</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#addDaysToDate">addDaysToDate</a></li><li><a href="global.html#convertStatus">convertStatus</a></li><li><a href="global.html#customSettings">customSettings</a></li><li><a href="global.html#fillingSpaces">fillingSpaces</a></li><li><a href="global.html#filterProducts">filterProducts</a></li><li><a href="global.html#formatDate">formatDate</a></li><li><a href="global.html#formattedOutput">formattedOutput</a></li><li><a href="global.html#generateProduct">generateProduct</a></li><li><a href="global.html#getCustomSettings">getCustomSettings</a></li><li><a href="global.html#idInitializer">idInitializer</a></li><li><a href="global.html#paddingFunc">paddingFunc</a></li><li><a href="global.html#randomDate">randomDate</a></li><li><a href="global.html#randomDecimal">randomDecimal</a></li><li><a href="global.html#repeatString">repeatString</a></li><li><a href="global.html#showRunMessage">showRunMessage</a></li><li><a href="global.html#statusColor">statusColor</a></li><li><a href="global.html#uniqueId">uniqueId</a></li><li><a href="global.html#updateStatus">updateStatus</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.4</a> on Tue May 12 2020 16:58:07 GMT+0200 (GMT+02:00)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
